"use strict";(self.webpackChunktdmmo=self.webpackChunktdmmo||[]).push([[46],{7046:(I,m,i)=>{i.r(m),i.d(m,{ProfessionalMapsModule:()=>Q});var r=i(6019),p=i(8260),t=i(3668),h=i(8053),c=i(4522);let f=(()=>{class e{constructor(a){this.http=a,this.rootUrl=`${p.N.apiUrl}/api/data/maps-image-path`}getDomains(){return this.http.get(this.rootUrl)}getTimeList(){return this.http.get(this.rootUrl,{params:{domain:"D01"}})}getParameters(a){const{date:n,domain:l}=a;return this.http.get(this.rootUrl,{params:{date:n,domain:l}})}getImagesPath(a){const{date:n,domain:l,parameter:s}=a;return this.http.get(this.rootUrl,{params:{date:n,domain:l,parameter:s}}).pipe((0,h.U)(N=>N.map(D=>D.split(".")[0])))}}return e.\u0275fac=function(a){return new(a||e)(t.LFG(c.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=i(2339),v=i(4947),g=i(8167),d=i(6400),C=i(2706),M=i(6731);function Z(e,o){if(1&e&&(t.TgZ(0,"div",9),t._UZ(1,"img",10),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("src",a.imageUrl,t.LSH)}}function P(e,o){1&e&&t._UZ(0,"app-chart-placeholder",11)}function T(e,o){if(1&e&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.Q6J("value",a),t.xp6(1),t.hij(" ",a," ")}}function U(e,o){if(1&e&&(t.TgZ(0,"mat-option",12),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const a=o.$implicit,n=t.oxw();t.Q6J("value",a),t.xp6(1),t.hij(" ",t.xi3(2,2,n.makeDate(a),"medium")," ")}}function _(e,o){if(1&e&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.Q6J("value",a),t.xp6(1),t.hij(" ",a," ")}}function A(e,o){if(1&e&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.Q6J("value",a),t.xp6(1),t.hij(" ",a," ")}}let J=(()=>{class e{constructor(a,n){this.proMaps=a,this.spinner=n,this.data={domain:null,date:null,parameter:null,image_data:null},this.imageUrl="",this.timeList=[],this.domainList=[],this.parameterList=[],this.imageList=[]}ngOnInit(){this.getInitialData(),this.spinner.hide()}domainChange(a){this.data.domain=a.value,this.data.date&&this.getParams()}dateChange(a){this.data.date=a.value,this.getParams()}parameterChange(a){this.data.parameter=a.value,this.data.image_data=null,this.imageUrl="",this.proMaps.getImagesPath(this.data).subscribe(n=>{this.imageList=n})}imageChange(a){this.data.image_data=a.value;let n=`${p.N.apiUrl}/api/data/maps-image?`;for(const[l,s]of Object.entries(this.data))n+=`${l}=${s}&`;this.imageUrl=n}getParams(){this.data.parameter=null,this.data.image_data=null,this.imageUrl="",this.proMaps.getParameters(this.data).subscribe(a=>this.parameterList=a)}getInitialData(){this.proMaps.getDomains().subscribe(a=>this.domainList=a),this.proMaps.getTimeList().subscribe(a=>this.timeList=a)}makeDate(a){return`${a.slice(0,4)}-${a.slice(4,6)}-${a.slice(6,8)}`}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(f),t.Y36(u.t2))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-professional-maps"]],decls:26,vars:13,consts:[[1,"container"],[1,"left-side"],["class","satellite",4,"ngIf"],["content","Complete The form to display Maps",4,"ngIf"],[1,"right-side"],["appearance","fill"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"disabled","value","selectionChange"],[1,"satellite"],[1,"satellite__image",3,"src"],["content","Complete The form to display Maps"],[3,"value"]],template:function(a,n){1&a&&(t._UZ(0,"app-navigation"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.YNc(3,Z,2,1,"div",2),t.YNc(4,P,1,0,"app-chart-placeholder",3),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"mat-form-field",5),t.TgZ(7,"mat-label"),t._uU(8,"Domain"),t.qZA(),t.TgZ(9,"mat-select",6),t.NdJ("selectionChange",function(s){return n.domainChange(s)}),t.YNc(10,T,2,2,"mat-option",7),t.qZA(),t.qZA(),t.TgZ(11,"mat-form-field",5),t.TgZ(12,"mat-label"),t._uU(13,"Date"),t.qZA(),t.TgZ(14,"mat-select",8),t.NdJ("selectionChange",function(s){return n.dateChange(s)}),t.YNc(15,U,3,5,"mat-option",7),t.qZA(),t.qZA(),t.TgZ(16,"mat-form-field",5),t.TgZ(17,"mat-label"),t._uU(18,"Parameter"),t.qZA(),t.TgZ(19,"mat-select",8),t.NdJ("selectionChange",function(s){return n.parameterChange(s)}),t.YNc(20,_,2,2,"mat-option",7),t.qZA(),t.qZA(),t.TgZ(21,"mat-form-field",5),t.TgZ(22,"mat-label"),t._uU(23,"Image"),t.qZA(),t.TgZ(24,"mat-select",8),t.NdJ("selectionChange",function(s){return n.imageChange(s)}),t.YNc(25,A,2,2,"mat-option",7),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a&&(t.xp6(3),t.Q6J("ngIf",n.imageUrl),t.xp6(1),t.Q6J("ngIf",!n.imageUrl),t.xp6(5),t.Q6J("value",n.data.domain),t.xp6(1),t.Q6J("ngForOf",n.domainList),t.xp6(4),t.Q6J("disabled",!n.data.domain)("value",n.data.date),t.xp6(1),t.Q6J("ngForOf",n.timeList),t.xp6(4),t.Q6J("disabled",!n.data.date||!n.parameterList.length)("value",n.data.parameter),t.xp6(1),t.Q6J("ngForOf",n.parameterList),t.xp6(4),t.Q6J("disabled",!n.data.parameter||!n.imageList.length)("value",n.data.image_data),t.xp6(1),t.Q6J("ngForOf",n.imageList))},directives:[v.J,r.O5,g.KE,g.hX,d.gD,r.sg,C.b,M.ey],pipes:[r.uU],styles:[".container[_ngcontent-%COMP%]{display:flex;min-height:100vh}.container[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{background-color:#0aa19f;flex:2;text-align:center;font-size:1.5rem;padding-top:6rem}.container[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block;width:65%;margin:auto}.container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{background-color:#f7f7f7;flex:5;display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .satellite__image[_ngcontent-%COMP%]{height:85vh;box-shadow:0 1rem 2rem #0009}"]}),e})();var L=i(3174),O=i(1382),y=i(2117);let Q=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.ez,L.Bz.forChild([{path:"",component:J}]),d.LD,O.m,y.X]]}),e})()}}]);