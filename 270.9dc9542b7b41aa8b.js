"use strict";(self.webpackChunktdmmo=self.webpackChunktdmmo||[]).push([[270],{2270:(U,g,i)=>{i.r(g),i.d(g,{SatelliteImagesModule:()=>J});var r=i(6019),m=i(3174),t=i(3668),f=i(2339),h=i(8053),d=i(8260),p=i(4522);let I=(()=>{class e{constructor(n){this.http=n,this.rootUrl=d.N.apiUrl}getImagesName(){return this.http.get(`${this.rootUrl}/api/data/satelite-images-path`).pipe((0,h.U)(n=>n.filter(a=>a.endsWith("jpg")).map(a=>a.replace(".jpg","")).map(a=>`${this.rootUrl}/api/data/Satelite?image_data=${a}`)))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(p.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=i(4947),c=i(8167),u=i(27),S=i(6731);function C(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",9),t._UZ(2,"img",10),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("src",n.currentImage,t.LSH)}}function x(e,o){if(1&e&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&e){const n=o.$implicit,a=t.oxw();t.Q6J("value",n),t.xp6(1),t.hij(" ",a.imageTimeByUrl(n)," ")}}function P(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){return t.CHM(n),t.oxw().startImageShow()}),t._uU(1,"Start Show"),t.qZA()}}function T(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(n),t.oxw().stopImageShow()}),t._uU(1,"Stop"),t.qZA()}}function Z(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(n),t.oxw().firstImage()}),t._uU(1,"Go to first image"),t.qZA()}}const b=[{path:"",component:(()=>{class e{constructor(n,a){this.spinner=n,this.satelliteService=a,this.imageIndex=0}ngOnInit(){this.satelliteService.getImagesName().subscribe(n=>{this.spinner.hide(),this.imagesPath=n,this.currentImage=n[this.imageIndex],this.imageCount=n.length-1})}imageTimeByUrl(n){const a=n.split("image_data=")[1];return new Date(a).toUTCString()}changeIndex(n){this.imageIndex=this.imagesPath.indexOf(n)}firstImage(){this.imageIndex=0,this.currentImage=this.imagesPath[0]}startImageShow(){this.imageIndex>=this.imageCount||(this.imageInterval=setInterval(()=>{this.imageIndex<this.imageCount?(this.imageIndex++,this.currentImage=this.imagesPath[this.imageIndex]):this.stopImageShow()},2e3))}stopImageShow(){clearInterval(this.imageInterval),this.imageInterval=0}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(f.t2),t.Y36(I))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-satellite-images-page"]],decls:14,vars:6,consts:[[1,"container"],[1,"left-side"],[4,"ngIf"],[1,"right-side"],[2,"margin-top","3rem"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","interval-btn",3,"click",4,"ngIf"],["class","interval-btn interval-btn--red",3,"click",4,"ngIf"],[1,"satellite"],["alt","",1,"satellite__image",3,"src"],[3,"value"],[1,"interval-btn",3,"click"],[1,"interval-btn","interval-btn--red",3,"click"]],template:function(n,a){1&n&&(t._UZ(0,"app-navigation"),t.TgZ(1,"div",0),t.TgZ(2,"div",1),t.YNc(3,C,3,1,"ng-container",2),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"mat-form-field"),t.TgZ(7,"mat-label"),t._uU(8,"Select Image"),t.qZA(),t.TgZ(9,"mat-select",5),t.NdJ("valueChange",function(s){return a.currentImage=s})("valueChange",function(s){return a.changeIndex(s)}),t.YNc(10,x,2,2,"mat-option",6),t.qZA(),t.qZA(),t.YNc(11,P,2,0,"button",7),t.YNc(12,T,2,0,"button",8),t.YNc(13,Z,2,0,"button",8),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngIf",a.imagesPath),t.xp6(6),t.Q6J("value",a.currentImage),t.xp6(1),t.Q6J("ngForOf",a.imagesPath),t.xp6(1),t.Q6J("ngIf",!a.imageInterval&&a.imageIndex!==a.imageCount),t.xp6(1),t.Q6J("ngIf",a.imageInterval),t.xp6(1),t.Q6J("ngIf",a.imageIndex===a.imageCount))},directives:[v.J,r.O5,c.KE,c.hX,u.gD,r.sg,S.ey],styles:[".container[_ngcontent-%COMP%]{background-color:#f1f1f1;min-height:100vh;width:100%;display:flex}.left-side[_ngcontent-%COMP%]{flex:3;display:flex;justify-content:center;align-items:center}.right-side[_ngcontent-%COMP%]{text-align:center;flex:1;background-color:#0aa19f}.satellite[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.satellite__image[_ngcontent-%COMP%]{height:95vh;box-shadow:0 1rem 2rem #0009}.mat-form-field[_ngcontent-%COMP%]{margin:auto;text-align:center;font-size:1.6rem;width:80%}.interval-btn[_ngcontent-%COMP%]{display:block;margin:2rem auto auto;font-size:2.2rem;font-family:inherit;border:none;padding:.8rem 3rem;font-weight:300;cursor:pointer;border-radius:3px;background-color:#252a34;color:#f5f5f5;box-shadow:0 .4rem 1rem #00000080;transition:all .2s}.interval-btn--red[_ngcontent-%COMP%]{background-color:#ff2e63}.interval-btn--red[_ngcontent-%COMP%]:hover{background-color:#fa003f}"]}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.Bz.forChild(b)],m.Bz]}),e})();var y=i(1382),M=i(9133);let J=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.ez,_,y.m,u.LD,M.u5]]}),e})()}}]);